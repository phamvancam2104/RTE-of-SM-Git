\section{implementation}
\label{sec:implementation}
The proposed approach is implemented in a prototype existing as an extension of the Papyrus modeler [4]. Each state machine is created by using a state machine diagram and contained in a component. Low-level processing of state machine actions is directly embedded by a block of code written specific programming languages such as C++/JAVA in the state machine. C++ code is generated by the prototype but other object-oriented languages are easily generated. The code generation consists of transforming the state machine to UML classes and eventually to code by a code generator following the proposed approach. In the reverse direction, code pattern detection is implemented as described in the previous section to verify state machine semantics in code. If the generated code is modified, two options are supported by the prototype interface to make the state machine and code consistent again. One is to create a new state machine from the modified code in the same Eclipse project and the other one is to update the original state machine by providing as input the intermediate model and the state machine in a dialog.